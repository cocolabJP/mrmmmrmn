<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
  <title>森見守者（もりみまもりもん）</title>
  <link rel="icon" href="/img/favicon/favicon.ico" sizes="32x32">
  <link rel="icon" href="/img/favicon/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/img/favicon/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@300;500&display=swap" rel="stylesheet">
  <link href="style.css?v=0.3" rel="stylesheet" type="text/css">
</head>
<body>
<div id="main">
<header>
  <h1><img src="img/mrmmmrmn-logo.png"></h1>
</header>
<div class="rmn"
     :class="{'clicked': info.isClicked, 'sleep': info.isSleep}"
     @click.stop="toggleView">
  <div class="rmn-stack">
    <div class="rmn-bg-color" :class="rmnBackgroundColor"></div>
    <img src="img/rmn-bg.png">
    <img src="img/rmn-body.png">
    <img src="img/rmn-frame.png">
    <img src="img/rmn-arm-r.png">
    <img :src="'img/rmn-face-' + faceMode + '.png'">
    <img src="img/rmn-arm-l.png">
  </div>
  <div v-if="rmnData.length > 0">
    <div class="info-clock" v-html="clock"></div>
    <div class="info-packet">
      <div class="summary">
        <span><img src="img/ic-people.png">×<b>{{ rmnData[0].apple }}</b></span>
        <span><img src="img/ic-device.png">×<b>{{ rmnData[0].packet }}</b></span>
      </div>
      <dl class="detail">
        <dt>観測した人</dt>
        <dd><b>{{ rmnData[0].apple }}</b>人</dd>
        <dt>観測した電波</dt>
        <dd><b>{{ rmnData[0].packet }}</b>シグナル</dd>
      </dl>
    </div>
    <div class="info-device">
      <div class="summary">
        <span><img src="img/ic-temp.png"><b>{{ rmnData[0].cpuTemp }}</b>℃</span>
        <span><img src="img/ic-battery.png"><b>{{ rmnData[0].battery }}</b>%</span>
      </div>
      <dl class="detail">
        <dt>CPU温度</dt>
        <dd><b>{{ rmnData[0].cpuTemp }}</b>℃</dd>
        <dt>バッテリー残量</dt>
        <dd><b>{{ rmnData[0].battery }}</b>%</dd>
      </dl>
      <div class="sleep-msg">睡眠中...</div>
    </div>
  </div>
</div>
<div class="about-app">
  <h2><ruby>森見守者<rp>（</rp><rt>もりみまもりもん</rt><rp>）</rp></ruby>とは</h2>
  <p>
    森の奥深く、そっと見守る「りもん」という小さな仲間がいます。「りもん」は、森を訪れる者たちの気配を感じ取る、ひとりぼっちのIoT<sup>＊</sup>です。
  </p>
  <p>
    太陽が昇り、森に光が満ちると、「りもん」は目を覚まし、ゆっくりと動き出します。
    陽の光をいっぱいに浴びて力を蓄え、やがて森の中を歩む人や、ひそやかに通り過ぎるデバイスたちの気配を優しく見つめます。
  </p>
  <p>
    けれど夜が訪れると、「りもん」は少し疲れて、寝てしまいます。夜の暗がりの中で眠りにつき、雨の日には少し長い眠りにつくこともあります。
  </p>
  <p>
    それでも、再び朝が来ると、太陽の光とともに「りもん」は目を覚まします。まるで森と共に生きているかのように、森のリズムに合わせて目を閉じ、目を開き、見守り続けるのです。
  </p>
  <div class="footnote">
    <sup>＊</sup> IoT： Internet of Thingsの略語。インターネットに繋がったモノを意味します。
  </div>
</div>
<div class="log">
  <h2>交信の記録</h2>
  <ul>
    <li v-for="d in rmnData">
      <time>{{ getDateTimeStr(d.t) }}</time>
      <img src="img/ic-people.png">×{{ d.apple }}人
      <img src="img/ic-device.png">×{{ d.packet }}シグナル
      <img src="img/ic-temp.png">{{ d.cpuTemp }}℃
      <img src="img/ic-battery.png">{{ d.battery }}%
    </li>
  </ul>
</div>
<footer>
  &copy; Yuki Matsuda
  <small>(Convivial Computing Lab., Okayama Univ.)</small>
</footer>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="main.js?v=0.3"></script>
</body>
</html>
